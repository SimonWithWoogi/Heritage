I"4<h2 id="1-about-the-search"><span style="color:darkblue">1. About the search</span></h2>

<h3 id="11-tree-graph"><span style="color:darkblue">1.1. Tree, Graph</span></h3>

<p>Search를 얘기하기 전에 Tree와 Graph에 대해서 먼저 설명합니다. 두 차이를 안다면 넘어가십시오.</p>

<p><span style="color:darkblue"><code class="language-plaintext highlighter-rouge">1.1.1. Tree</code></span></p>

<p><img src="/assets/img/MATLAB/2_1.png" alt="img" /></p>

<p>소프트웨어에서 얘기하는 <code class="language-plaintext highlighter-rouge">Tree</code>는 실제 나무와 반대의 모양을 띄고 있습니다. 제일 위에를 <code class="language-plaintext highlighter-rouge">Root</code>라고 얘기하며 <code class="language-plaintext highlighter-rouge">Root</code>는 한 개입니다. 여러분들이 <code class="language-plaintext highlighter-rouge">Tree</code>를 받아들이기 위해서는 자료구조라는 점에 주목해야됩니다. 보통 알고리즘과 자료구조를 같이 이야기합니다. 자료구조는 세상에 널리 알려진 구조들을 Data에 접목시켜 어떤 형태를 띄는 것입니다. 그래서 대부분 자체적인 기능을 하지 않습니다.</p>

<p><img src="/assets/img/MATLAB/2_2.png" alt="img" /></p>

<p>물론 <code class="language-plaintext highlighter-rouge">Tree</code>에는 여러가지 종류가 있으나 자료구조에 대한 포스팅 기회가 온다면 그 때 말씀드리겠습니다. <code class="language-plaintext highlighter-rouge">Tree</code>는 자료구조이며 얘가 어떤 알고리즘으로서 무언가를 해결하고 동작하지 않습니다. 이번 MATLAB, 탐색 알고리즘의 내용은 이 <code class="language-plaintext highlighter-rouge">Tree</code>안에서 여기저기 찾아 다닐 것 입니다.</p>

<p><img src="/assets/img/MATLAB/2_3.png" alt="img" /></p>

<p><span style="color:darkblue"><code class="language-plaintext highlighter-rouge">1.1.2. Graph</code></span></p>

<p><img src="/assets/img/MATLAB/2_4.png" alt="img" /></p>

<p>사실 저희가 이용할 자료구조는 <code class="language-plaintext highlighter-rouge">Graph</code>입니다. 단언컨데 우리가 탐색 이용할 대부분의 자료구조는 <code class="language-plaintext highlighter-rouge">Graph</code>입니다. 왜냐하면 세상 알려진 문제들의 대부분은 <code class="language-plaintext highlighter-rouge">Graph</code>의 성질을 지니고 있죠. 여기서 <code class="language-plaintext highlighter-rouge">Tree</code>와 <code class="language-plaintext highlighter-rouge">Graph</code>에 대해 얘기하자면 <code class="language-plaintext highlighter-rouge">Tree</code>에서 순환하는 성질이 발견되면 <code class="language-plaintext highlighter-rouge">Graph</code>가 됩니다. 우연히 새로운 길에서 길을 잃었을 때, 왔던 길에 다시 되돌아 올 수 있습니다. 빠져나갈 길을 탐색하는 과정에서 순환이 일어난 것이죠. 그런 경험들을 자료구조로 변경하면 <code class="language-plaintext highlighter-rouge">Graph</code>가 됩니다.</p>

<h3 id="12-uninformed-search"><span style="color:darkblue">1.2. Uninformed Search</span></h3>

<p><code class="language-plaintext highlighter-rouge">Uninforemd Search</code>는 미리 정의되지 않은 구간에 대해 탐색함을 의미합니다. 대표적인 예는 미로찾기입니다. 미로에 입장하자마자 지형에 대해서 알 수도 없으며 무작위로 이동하게 됩니다. 이러한 <code class="language-plaintext highlighter-rouge">Uninformed search</code>에는 대표적으로 <code class="language-plaintext highlighter-rouge">Breadth First Search</code>와 <code class="language-plaintext highlighter-rouge">Depth First Search</code>로 나뉩니다. 이름 그대로 <code class="language-plaintext highlighter-rouge">BFS</code>는 좌우로 움직이며 탐색하고 <code class="language-plaintext highlighter-rouge">DFS</code>는 아래 위로 훑으며 탐색합니다. <code class="language-plaintext highlighter-rouge">DFS</code>와<code class="language-plaintext highlighter-rouge">BFS</code>를 근본으로 둔 여러 탐색 알고리즘들은 나중에 설명하도록 하겠습니다.</p>

<p><span style="color:darkblue"><code class="language-plaintext highlighter-rouge">1.2.1. Tree 와 Search</code></span></p>

<p><strong>1.1</strong>은 자료구조에 대해 설명드렸습니다. <strong>1.2</strong>는 알고리즘에 대해 설명드렸구요. 본문에 진행하는 식인종 문제를 하기에 앞서서 두 가지 간략한 설명이 필요했습니다. 이제 왜 설명이 필요했었는 지 말씀을 드리겠습니다. <code class="language-plaintext highlighter-rouge">Problem-Solving</code>에는 주로 <code class="language-plaintext highlighter-rouge">Optimization(최적화), AI(인공지능)</code>라는 키워드가 들어갑니다. 이번에 진행하는 식인종 문제는 <code class="language-plaintext highlighter-rouge">Optimization</code>에 해당된다고 볼 수 있습니다.</p>

<p>대부분의 <code class="language-plaintext highlighter-rouge">Optimization</code>의 문제들은 경우의 수와 반복에 대해 주 토픽으로 다룹니다. <strong>1.1</strong>에서 얘기한 <code class="language-plaintext highlighter-rouge">Tree</code>는 <code class="language-plaintext highlighter-rouge">Optimization</code>에 나온 문제의 경우의 수와 반복된 상태들을 모두 담고 있습니다. 예를 들어서 주사위를 네번 던진다고 해봅시다. 그렇다면 제가 주사위를 던지기 전에는 1~6까지의 숫자가 나옴을 인지하고 있습니다. <code class="language-plaintext highlighter-rouge">Tree</code>도 마찬가지로 한번 밑으로 진행할 때 <span style="color:darkred"><strong>많아 봤자 6개</strong></span>의 가지가 만들어 지겠죠. 이렇게 만들어진 경우의 수를 <code class="language-plaintext highlighter-rouge">Child node</code>라고 부릅니다. 그렇다면 제가 숫자 4가 나올때 까지 계속 주사위를 굴린다면? 언제 성공할까요?</p>

<p>사실 장담할 수 없습니다만, <code class="language-plaintext highlighter-rouge">Uninformed Search</code>에서는 더 더욱 장담할 수 없습니다. 주사위를 0.1초에 한번씩 던질껀데 계속 1만 나오면 어쩔래? 라는 가정이 있거든요.  그렇다면 <code class="language-plaintext highlighter-rouge">Tree</code>의 깊이는 한도 끝도 없이 <span style="color:darkred"><strong>무한한 상태</strong></span>에 이릅니다. 자, 여러분은 알게 모르게 <code class="language-plaintext highlighter-rouge">Tree</code>의 특징을 익혔습니다. <strong>바로 경우의 수는 <code class="language-plaintext highlighter-rouge">Child node</code>의 수를 결정하고 반복 수는 <code class="language-plaintext highlighter-rouge">Tree</code>의 깊이, <code class="language-plaintext highlighter-rouge">Level</code>을 결정한다는 것이죠.</strong></p>

<p><span style="color:darkblue"><code class="language-plaintext highlighter-rouge">1.2.2. DFS 와 BFS</code></span></p>

<p><code class="language-plaintext highlighter-rouge">DFS</code>는 <code class="language-plaintext highlighter-rouge">Root node</code>에서 시작해서 아래위로 훑고 지나다니는 탐색 기법입니다. 방금 처럼 <code class="language-plaintext highlighter-rouge">Tree</code>의 <code class="language-plaintext highlighter-rouge">node</code>가 무한한 상태에 빠진다면? <code class="language-plaintext highlighter-rouge">DFS</code>는 돌아오지 못할 것입니다. 주사위를 예로 들었는데 현실에서 숫자 4는 넉넉하게 30번만 던져도 찾을 수 있습니다.</p>

<p><code class="language-plaintext highlighter-rouge">BFS</code>는 <code class="language-plaintext highlighter-rouge">Root node</code>에서 좌우로 돌아다니기에 다음 만들어진 <code class="language-plaintext highlighter-rouge">Child node</code>를 모두 방문하고 나서야 다음 <code class="language-plaintext highlighter-rouge">Level</code>로 넘어간다는 점이 있습니다. 그렇다면 일상적인 넉넉 30 <code class="language-plaintext highlighter-rouge">Level</code>안에 4를 찾을 수 있겠죠? 이처럼 <code class="language-plaintext highlighter-rouge">BFS</code>는 <code class="language-plaintext highlighter-rouge">DFS</code>에 비하여 <code class="language-plaintext highlighter-rouge">Node</code>안에  들어있는 답을 반드시 찾아냅니다.</p>

<h2 id="2-missionary-cannibal-problem"><span style="color:darkblue">2. Missionary-Cannibal problem</span></h2>

<h3 id="21-introduction"><span style="color:darkblue">2.1. Introduction</span></h3>

<p><img src="/assets/img/MATLAB/2_5.png" alt="img" /> <img src="/assets/img/MATLAB/2_6.png" alt="img" /></p>

<p><code class="language-plaintext highlighter-rouge">UnInformed search</code>에 대표적인 식인종 문제입니다. 식인종과 선교사를 <strong>모두 배를 태워 강을 건너야합니다.</strong> 허나 배에 탈 수 있는 인원은 정해져있죠. 또한 추가적인 규칙이 있습니다.</p>

<p><img src="/assets/img/MATLAB/2_7.png" alt="img" /></p>

<p>식인종과 선교사의 <strong>인원이 동등</strong>하다면, <strong>그 어떤 사건사고가 발생하지 않습니다.</strong> 아주 평화롭고 식인종은 입맛을 다시고 있습니다. 그러나</p>

<p><img src="/assets/img/MATLAB/2_8.png" alt="img" /></p>

<p>선교사의 인원이 <strong>식인종보다 적어지면</strong> 식인종은 본 모습을 드러내기 시작합니다. 선교사를 잡아먹어 모두 배를 건널 수 <strong>없습니다</strong>.</p>

<h3 id="22-state-space"><span style="color:darkblue">2.2. State space</span></h3>

<p><img src="/assets/img/MATLAB/2_9.png" alt="img" /></p>

<p>우리가 해결할 문제에 대한 상황을 어느정도 트리로 구현해봤습니다. 제일 좌측이 <code class="language-plaintext highlighter-rouge">Root node</code>이며 시작상태, <code class="language-plaintext highlighter-rouge">Initial state</code>라고 합니다. <code class="language-plaintext highlighter-rouge">Feasible solution</code>에 대해서 간단하게 그려봤습니다.</p>

<h2 id="3-implement"><span style="color:darkblue">3. Implement</span></h2>

<p><img src="/assets/img/MATLAB/2_10.png" alt="img" /></p>

<p>이제 MATLAB을 이용하여 본격적인 구현을 할 건데요. 먼저 기본적인 식인종 문제를 하면 재미없어서 조금 응용을 해봤습니다.</p>

<p><img src="/assets/img/MATLAB/2_11.png" alt="img" /></p>

<p>식인종과 선교사를 각 30명씩 만들었구요. 배는 최대 5명을 실을 수 있습니다. 앞서 말했듯 <code class="language-plaintext highlighter-rouge">Child node</code>의 수를 앞으로 생길 경우의 수라고 보겠습니다. 그렇다면 최대 5명을 태울 수 있는 경우의 수는 235입니다. 수식은 아래와 같습니다.  그리고 <code class="language-plaintext highlighter-rouge">Tree Depth</code>를 결정하는 최대 반복 수는 제법 많겠죠?</p>

<p>[Max(Child node) = (Passenger! * Kinds) - Passenger]</p>

<p>[Max(n) = (5! * 2) - 5 = (5 * 4 * 3 * 2 * 1) * 2 - 5 = 240 - 5 = 235]</p>

<p>그래서 제가 미리 돌려봤습니다. 단순히 <code class="language-plaintext highlighter-rouge">BFS(Breadth First Search)</code>로 했을 때는 41061번째에 모두 옮기더라구요.</p>

<p><img src="/assets/img/MATLAB/2_12.png" alt="img" /></p>

<h3 id="31-depth-limited-search"><span style="color:darkblue">3.1. Depth-Limited Search</span></h3>

<p>기왕 실습하는 거 <code class="language-plaintext highlighter-rouge">DFS(Depth First Search)</code>와 <code class="language-plaintext highlighter-rouge">BFS(Breadth First Search)</code>를 섞어서 사용해볼까요? <code class="language-plaintext highlighter-rouge">Tree</code>의 깊이가 10까지는 <code class="language-plaintext highlighter-rouge">DFS</code>로 탐색하다가 그 뒤부터는 <code class="language-plaintext highlighter-rouge">BFS</code>로 탐색하도록 하겠습니다! 결과를 먼저 알려드릴께요. 이번 소스에서는 큰 차이가 있으나, 일반적으로는 큰 차이 없습니다! 이유는 <code class="language-plaintext highlighter-rouge">학습되지 않은 Depth</code>때문입니다. 만약 보편적인 정답이 어느정도 깊이에 있었는 지 대충 알 수 있다면 효과가 있었겠죠? 그러나 <code class="language-plaintext highlighter-rouge">Uninformed Search</code>의 특성상 한번 답을 찾았으면 더 할 필요 없습니다. 이정도의 호기심만 놔두고 <code class="language-plaintext highlighter-rouge">Depth Limited Search</code>에 대해서 설명하겠습니다.</p>

<p><img src="/assets/img/MATLAB/2_13.png" alt="img" /></p>

<p><code class="language-plaintext highlighter-rouge">Depth Limited Search</code>는 특정 깊이까지는 <code class="language-plaintext highlighter-rouge">DFS</code>로, 그 다음부터는 <code class="language-plaintext highlighter-rouge">BFS</code>로 진행하는 <code class="language-plaintext highlighter-rouge">Algorithm</code>입니다. 깊이를 정한다는 점이 매우 흥미로운데 사실 <code class="language-plaintext highlighter-rouge">Complete</code>하지도 <code class="language-plaintext highlighter-rouge">Optimal</code>하지도 않습니다. 심지어 일반적인 <code class="language-plaintext highlighter-rouge">BFS</code>보다 크게 경쟁성이 없습니다. 다만, 깊이를 설정함에 따라 보편적으로 <code class="language-plaintext highlighter-rouge">BFS</code>보다 빠르며 <code class="language-plaintext highlighter-rouge">공간복잡도</code> 또한 <code class="language-plaintext highlighter-rouge">BFS</code>보다 낫습니다. <span style="color:darkred">그럼에도 불구하고 이번 실습을 <code class="language-plaintext highlighter-rouge">DLS</code>로 알려드리는 이유는 <code class="language-plaintext highlighter-rouge">깊이제한</code>을 0으로 설정하면 그냥 <code class="language-plaintext highlighter-rouge">BFS</code>로, 아주 높은 값으로 설정하면 <code class="language-plaintext highlighter-rouge">DFS</code>로 사용할 수 있기 때문이죠.</span></p>

<h3 id="32-matlab-code-설명"><span style="color:darkblue">3.2. MATLAB code 설명</span></h3>

<p>30명에 5인승 배 규모의 식인종 문제를 <code class="language-plaintext highlighter-rouge">DLS, 깊이제한탐색</code>을 이용하여 해결합니다. <code class="language-plaintext highlighter-rouge">MATLAB</code>으로 구현했으며, <strong>MATLAB 복사하기 쉽게된 전문은 제일 아래에 있습니다.</strong> 지금부터는 설명입니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td> --><td class="rouge-code"><pre><span class="nb">clear</span><span class="p">,</span> <span class="nb">clc</span>
<span class="nb">import</span> <span class="n">java</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">LinkedList</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>모든 변수를 초기화시켜줍니다. <code class="language-plaintext highlighter-rouge">DLS</code>를 사용하기 위해서 양쪽 방향으로 <code class="language-plaintext highlighter-rouge">push</code>,<code class="language-plaintext highlighter-rouge">pop</code>가능한 <code class="language-plaintext highlighter-rouge">java</code>의 <code class="language-plaintext highlighter-rouge">LinkedList</code>를 불러옵니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td> --><td class="rouge-code"><pre><span class="c1">%Configuration parameters</span>
<span class="n">Steps</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">VectorSize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="n">Passenger_boat</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">Level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">DepthLim</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="c1">%Initial State</span>
<span class="n">InitState</span> <span class="o">=</span> <span class="p">[</span><span class="n">VectorSize</span> <span class="mi">0</span> <span class="n">Level</span><span class="p">;</span> <span class="n">VectorSize</span> <span class="mi">0</span> <span class="n">Level</span><span class="p">];</span>
<span class="c1">%Goal State</span>
<span class="n">GoalState</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="n">VectorSize</span> <span class="n">Level</span><span class="p">;</span> <span class="mi">0</span> <span class="n">VectorSize</span> <span class="n">Level</span><span class="p">];</span>
<span class="n">StateSpace</span> <span class="o">=</span> <span class="n">LinkedList</span><span class="p">();</span>
<span class="n">StateSpace</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">InitState</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>몇 번 반복했는 지 알기위한 <code class="language-plaintext highlighter-rouge">Steps</code>와 식인종, 선교사의 인원은 <code class="language-plaintext highlighter-rouge">VectorSize</code>로 결정합니다. <code class="language-plaintext highlighter-rouge">Passenger_boat</code>는 보트 최대 탑승원 수, <code class="language-plaintext highlighter-rouge">Level</code>은 <code class="language-plaintext highlighter-rouge">Node</code>가 현재 <code class="language-plaintext highlighter-rouge">Tree</code>에서 어느정도 <code class="language-plaintext highlighter-rouge">Depth</code>를 가지고 있는 지 알아보기 위함입니다. <code class="language-plaintext highlighter-rouge">DepthLim</code>은 <code class="language-plaintext highlighter-rouge">DLS</code>의 중요요소인 깊이 제한을 담당합니다. 현재는 <code class="language-plaintext highlighter-rouge">Depth</code>가 10을 넘었을 때 <code class="language-plaintext highlighter-rouge">BFS</code>를 하도록 설정했습니다.</p>

<p>최초의 상태는 강 좌측으로 모두 30명이 있으며 <code class="language-plaintext highlighter-rouge">1열</code>-강 왼쪽 <code class="language-plaintext highlighter-rouge">2열</code>-강 우측 <code class="language-plaintext highlighter-rouge">3열</code>-노드의 레벨입니다. <code class="language-plaintext highlighter-rouge">StateSpace</code>에 처음 상태를 집어넣습니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td> --><td class="rouge-code"><pre><span class="n">Run</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="n">Run</span><span class="p">)</span>
    <span class="c1">%Visit-&gt;    </span>
    <span class="n">Visit</span> <span class="o">=</span> <span class="n">StateSpace</span><span class="o">.</span><span class="n">removeFirst</span><span class="p">();</span>
    <span class="k">if</span> <span class="nb">rem</span><span class="p">(</span><span class="n">Steps</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="nb">disp</span><span class="p">([</span><span class="s1">'-'</span> <span class="nb">num2str</span><span class="p">(</span><span class="n">Steps</span><span class="p">)</span> <span class="s1">'-'</span><span class="p">])</span>
        <span class="n">Visit</span>
    <span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>시작입니다. <code class="language-plaintext highlighter-rouge">BFS(Queue)</code>는 <code class="language-plaintext highlighter-rouge">First-In-First-Out</code>, <code class="language-plaintext highlighter-rouge">DFS(Stack)</code>는 <code class="language-plaintext highlighter-rouge">Last-In-First-Out</code>입니다. 결론은 모두 <code class="language-plaintext highlighter-rouge">removeFirst</code>입니다. <code class="language-plaintext highlighter-rouge">MATLAB</code>의 화면표시는 <code class="language-plaintext highlighter-rouge">Steps</code>가 50단위로 나뉘어질 때 표기합니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td> --><td class="rouge-code"><pre>    <span class="n">CheckSum</span> <span class="o">=</span> <span class="n">Visit</span> <span class="o">==</span> <span class="n">GoalState</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">CheckSum</span><span class="p">))</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
        <span class="s1">'Goal State Found -&gt;'</span>
        <span class="n">Steps</span>
        <span class="n">Visit</span>
        <span class="n">Run</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>두번째는 <code class="language-plaintext highlighter-rouge">GoalState</code>와 비교입니다. 결론적으로 행렬 속 6개의 요소 중에 4개가 식인종, 선교사의 배치와 관련있습니다. <code class="language-plaintext highlighter-rouge">Level</code>을 담당하는 요소와 같을 수 있을까요? 절대 없는 경우로 만들었습니다. <code class="language-plaintext highlighter-rouge">Level</code>이 0일 때, 절대로 <code class="language-plaintext highlighter-rouge">Goal state</code>와 동일한 상태가 될 수 없기에 <code class="language-plaintext highlighter-rouge">Goal state</code>의 <code class="language-plaintext highlighter-rouge">Level</code>은 0입니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td> --><td class="rouge-code"><pre>    <span class="n">TempQ</span> <span class="o">=</span> <span class="n">GenChildNodes</span><span class="p">(</span><span class="n">Visit</span><span class="p">,</span> <span class="n">Passenger_boat</span><span class="p">,</span> <span class="n">VectorSize</span><span class="p">);</span>
    <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">TempQ</span><span class="o">.</span><span class="nb">size</span>
       <span class="n">Containers</span> <span class="o">=</span> <span class="n">TempQ</span><span class="o">.</span><span class="n">removeFirst</span><span class="p">();</span>
       
        <span class="k">if</span> <span class="n">Containers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">DepthLim</span>
            <span class="n">StateSpace</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">Containers</span><span class="p">);</span>
        <span class="k">else</span>
            <span class="n">StateSpace</span><span class="o">.</span><span class="n">addFirst</span><span class="p">(</span><span class="n">Containers</span><span class="p">);</span>
        <span class="k">end</span>

    <span class="k">end</span>    
    <span class="n">Steps</span> <span class="o">=</span> <span class="n">Steps</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>빼낸 <code class="language-plaintext highlighter-rouge">node</code>를 통해 <code class="language-plaintext highlighter-rouge">Child node</code>를 만듭니다. 만들어진 <code class="language-plaintext highlighter-rouge">Child node</code>의 <code class="language-plaintext highlighter-rouge">Level</code>이 <code class="language-plaintext highlighter-rouge">DepthLim</code>보다 크면, <code class="language-plaintext highlighter-rouge">BFS(Queue)</code>로 동작하기 위해 <code class="language-plaintext highlighter-rouge">addLast</code>를 합니다. 왜냐하면 <code class="language-plaintext highlighter-rouge">node</code>를 뺄 때, <code class="language-plaintext highlighter-rouge">removeFirst</code>를 하니까, 가장 최근에 들어온 <code class="language-plaintext highlighter-rouge">node</code>는 마지막에 빠져야 합니다.</p>

<p>반대로 <code class="language-plaintext highlighter-rouge">Level</code>이 <code class="language-plaintext highlighter-rouge">DepthLim</code>보다 작으면 <code class="language-plaintext highlighter-rouge">DFS(Stack)</code>으로 동작하기 위해 <code class="language-plaintext highlighter-rouge">addFirst</code>를 합니다. 마찬가지로 <code class="language-plaintext highlighter-rouge">node</code>를 뺄 때, 최근 것이 먼저 빠져야하기 때문입니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td> --><td class="rouge-code"><pre><span class="k">function</span> <span class="n">y</span> <span class="o">=</span> <span class="n">GenChildNodes</span><span class="p">(</span><span class="n">InState</span><span class="p">,</span> <span class="n">boatLim</span><span class="p">,</span> <span class="n">VectorSize</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">LinkedList</span><span class="p">();</span>
    <span class="c1">%보트 인원</span>
    <span class="k">for</span> <span class="n">cnt</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">boatLim</span>
        <span class="c1">%Missionary</span>
        <span class="k">for</span> <span class="n">cntsub</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">cnt</span>
            <span class="n">Temp</span> <span class="o">=</span> <span class="n">InState</span><span class="p">;</span>
            <span class="n">MNumber</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
            <span class="k">if</span> <span class="n">MNumber</span> <span class="o">&gt;=</span> <span class="n">cntsub</span>
                <span class="n">RightNum</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
                <span class="n">RightNum</span> <span class="o">=</span> <span class="n">RightNum</span> <span class="o">+</span> <span class="n">cntsub</span><span class="p">;</span>
                <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RightNum</span><span class="p">;</span>
                <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">VectorSize</span> <span class="o">-</span> <span class="n">RightNum</span><span class="p">;</span> 
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">GenChildNodes</code>에 대해서 알아봅시다. <code class="language-plaintext highlighter-rouge">boatLim</code>이 5인승이니까, <code class="language-plaintext highlighter-rouge">Missionary-선교사</code> 1명부터 탈 수 있는 경우, 5명 전부 탈 수 있는 경우의 모든 경우의 수를 넣어봅니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td> --><td class="rouge-code"><pre>                <span class="n">CNumber</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
                <span class="k">if</span> <span class="n">CNumber</span> <span class="o">&gt;=</span> <span class="n">cnt</span> <span class="o">-</span> <span class="n">cntsub</span>
                    <span class="n">RightNum</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
                    <span class="n">RightNum</span> <span class="o">=</span> <span class="n">RightNum</span> <span class="o">+</span> <span class="p">(</span><span class="n">cnt</span> <span class="o">-</span> <span class="n">cntsub</span><span class="p">);</span>
                    <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RightNum</span><span class="p">;</span>
                    <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">VectorSize</span> <span class="o">-</span> <span class="n">RightNum</span><span class="p">;</span>
                    <span class="k">if</span> <span class="n">feasibleSol</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span>
                        <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                        <span class="n">y</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span> 
                    <span class="k">end</span>
                <span class="k">end</span>
            <span class="k">end</span>
        <span class="k">end</span> 
    <span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>4명이 탈 차례인데 3명의 <code class="language-plaintext highlighter-rouge">Missionary-선교사</code>를 보냈다면 마저 1명의 <code class="language-plaintext highlighter-rouge">Cannibal-식인종</code>을 태워 <code class="language-plaintext highlighter-rouge">feasibleSol</code>함수에 점검합니다. 이동해도 문제없다고 한다면 <code class="language-plaintext highlighter-rouge">가능해</code>라고 판단하여 예비 <code class="language-plaintext highlighter-rouge">Child node인 y에</code>에 넣어줍니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td> --><td class="rouge-code"><pre>    <span class="c1">%Cannibal</span>
    <span class="n">Temp</span> <span class="o">=</span> <span class="n">InState</span><span class="p">;</span>
    <span class="n">Number</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="k">if</span> <span class="n">Number</span> <span class="o">&gt;=</span> <span class="n">cnt</span>
        <span class="n">RightNum</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">RightNum</span> <span class="o">=</span> <span class="n">RightNum</span> <span class="o">+</span> <span class="n">cnt</span><span class="p">;</span>
        <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RightNum</span><span class="p">;</span>
        <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">VectorSize</span> <span class="o">-</span> <span class="n">RightNum</span><span class="p">;</span>
        <span class="k">if</span> <span class="n">feasibleSol</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span>
            <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">y</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span> 
        <span class="k">end</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>중복의 경우의 수가 제거된 후 <code class="language-plaintext highlighter-rouge">Cannibal</code>만 이동하는 경우입니다. 메커니즘은 위 섹션과 동일합니다.</p>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td> --><td class="rouge-code"><pre><span class="k">function</span> <span class="n">y</span> <span class="o">=</span> <span class="n">feasibleSol</span><span class="p">(</span><span class="n">ValidState</span><span class="p">)</span>
    <span class="c1">%1행 - 선교사 2행 - 식인종</span>
    <span class="n">Missionary</span> <span class="o">=</span> <span class="n">ValidState</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:);</span>
    <span class="n">Cannibal</span> <span class="o">=</span> <span class="n">ValidState</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">:);</span>
    
    <span class="n">CheckSum</span> <span class="o">=</span> <span class="n">Cannibal</span> <span class="o">&gt;</span> <span class="n">Missionary</span><span class="p">;</span>
    <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">CheckSum</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">if</span> <span class="n">Missionary</span><span class="p">(</span><span class="n">CheckSum</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="n">y</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">y</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="k">end</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>마지막으로 <code class="language-plaintext highlighter-rouge">feasibleSol</code>함수입니다. 현재 <code class="language-plaintext highlighter-rouge">Cannibal</code>과 <code class="language-plaintext highlighter-rouge">Missionary</code> 조합이 가능한지 불가능한지 알아봅니다. <code class="language-plaintext highlighter-rouge">Cannibal</code>이 <code class="language-plaintext highlighter-rouge">Missionary</code>보다 많은 상황이 있다면 <code class="language-plaintext highlighter-rouge">false</code> 그게 아니라면 가능한 상황이기에 <code class="language-plaintext highlighter-rouge">true</code>를 보냅니다.</p>

<h3 id="33-matlab-code-전문"><span style="color:darkblue">3.3. MATLAB code 전문</span></h3>

<div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
</pre></td> --><td class="rouge-code"><pre><span class="nb">clear</span><span class="p">,</span> <span class="nb">clc</span>
<span class="nb">import</span> <span class="n">java</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">LinkedList</span>

<span class="c1">%Configuration parameters</span>
<span class="n">Steps</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">VectorSize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="n">Passenger_boat</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">Level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">DepthLim</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="c1">%Initial State</span>
<span class="n">InitState</span> <span class="o">=</span> <span class="p">[</span><span class="n">VectorSize</span> <span class="mi">0</span> <span class="n">Level</span><span class="p">;</span> <span class="n">VectorSize</span> <span class="mi">0</span> <span class="n">Level</span><span class="p">];</span>
<span class="c1">%Goal State</span>
<span class="n">GoalState</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="n">VectorSize</span> <span class="n">Level</span><span class="p">;</span> <span class="mi">0</span> <span class="n">VectorSize</span> <span class="n">Level</span><span class="p">];</span>
<span class="n">StateSpace</span> <span class="o">=</span> <span class="n">LinkedList</span><span class="p">();</span>
<span class="n">StateSpace</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">InitState</span><span class="p">)</span>

<span class="n">Run</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="n">Run</span><span class="p">)</span>
    <span class="c1">%Visit-&gt;    </span>
    <span class="n">Visit</span> <span class="o">=</span> <span class="n">StateSpace</span><span class="o">.</span><span class="n">removeFirst</span><span class="p">();</span>
    <span class="k">if</span> <span class="nb">rem</span><span class="p">(</span><span class="n">Steps</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="nb">disp</span><span class="p">([</span><span class="s1">'-'</span> <span class="nb">num2str</span><span class="p">(</span><span class="n">Steps</span><span class="p">)</span> <span class="s1">'-'</span><span class="p">])</span>
        <span class="n">Visit</span>
    <span class="k">end</span>
    <span class="n">CheckSum</span> <span class="o">=</span> <span class="n">Visit</span> <span class="o">==</span> <span class="n">GoalState</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">CheckSum</span><span class="p">))</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
        <span class="s1">'Goal State Found -&gt;'</span>
        <span class="n">Steps</span>
        <span class="n">Visit</span>
        <span class="n">Run</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">end</span>
    <span class="n">TempQ</span> <span class="o">=</span> <span class="n">GenChildNodes</span><span class="p">(</span><span class="n">Visit</span><span class="p">,</span> <span class="n">Passenger_boat</span><span class="p">,</span> <span class="n">VectorSize</span><span class="p">);</span>
    <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">TempQ</span><span class="o">.</span><span class="nb">size</span>
       <span class="n">Containers</span> <span class="o">=</span> <span class="n">TempQ</span><span class="o">.</span><span class="n">removeFirst</span><span class="p">();</span>
       
        <span class="k">if</span> <span class="n">Containers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">DepthLim</span>
            <span class="n">StateSpace</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">Containers</span><span class="p">);</span>
        <span class="k">else</span>
            <span class="n">StateSpace</span><span class="o">.</span><span class="n">addFirst</span><span class="p">(</span><span class="n">Containers</span><span class="p">);</span>
        <span class="k">end</span>

    <span class="k">end</span>    
    <span class="n">Steps</span> <span class="o">=</span> <span class="n">Steps</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">end</span>

<span class="k">function</span> <span class="n">y</span> <span class="o">=</span> <span class="n">GenChildNodes</span><span class="p">(</span><span class="n">InState</span><span class="p">,</span> <span class="n">boatLim</span><span class="p">,</span> <span class="n">VectorSize</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">LinkedList</span><span class="p">();</span>
    <span class="c1">%보트 인원</span>
    <span class="k">for</span> <span class="n">cnt</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">boatLim</span>
        <span class="c1">%Missionary</span>
        <span class="k">for</span> <span class="n">cntsub</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">cnt</span>
            <span class="n">Temp</span> <span class="o">=</span> <span class="n">InState</span><span class="p">;</span>
            <span class="n">MNumber</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
            <span class="k">if</span> <span class="n">MNumber</span> <span class="o">&gt;=</span> <span class="n">cntsub</span>
                <span class="n">RightNum</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
                <span class="n">RightNum</span> <span class="o">=</span> <span class="n">RightNum</span> <span class="o">+</span> <span class="n">cntsub</span><span class="p">;</span>
                <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RightNum</span><span class="p">;</span>
                <span class="n">Temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">VectorSize</span> <span class="o">-</span> <span class="n">RightNum</span><span class="p">;</span> 
                
                <span class="n">CNumber</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
                <span class="k">if</span> <span class="n">CNumber</span> <span class="o">&gt;=</span> <span class="n">cnt</span> <span class="o">-</span> <span class="n">cntsub</span>
                    <span class="n">RightNum</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
                    <span class="n">RightNum</span> <span class="o">=</span> <span class="n">RightNum</span> <span class="o">+</span> <span class="p">(</span><span class="n">cnt</span> <span class="o">-</span> <span class="n">cntsub</span><span class="p">);</span>
                    <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RightNum</span><span class="p">;</span>
                    <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">VectorSize</span> <span class="o">-</span> <span class="n">RightNum</span><span class="p">;</span>
                    <span class="k">if</span> <span class="n">feasibleSol</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span>
                        <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                        <span class="n">y</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span> 
                    <span class="k">end</span>
                <span class="k">end</span>
            <span class="k">end</span>
        <span class="k">end</span> 
    <span class="k">end</span>
    <span class="c1">%Cannibal</span>
    <span class="n">Temp</span> <span class="o">=</span> <span class="n">InState</span><span class="p">;</span>
    <span class="n">Number</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="k">if</span> <span class="n">Number</span> <span class="o">&gt;=</span> <span class="n">cnt</span>
        <span class="n">RightNum</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">RightNum</span> <span class="o">=</span> <span class="n">RightNum</span> <span class="o">+</span> <span class="n">cnt</span><span class="p">;</span>
        <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="n">RightNum</span><span class="p">;</span>
        <span class="n">Temp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">VectorSize</span> <span class="o">-</span> <span class="n">RightNum</span><span class="p">;</span>
        <span class="k">if</span> <span class="n">feasibleSol</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span>
            <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">Temp</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">y</span><span class="o">.</span><span class="n">addLast</span><span class="p">(</span><span class="n">Temp</span><span class="p">)</span> 
        <span class="k">end</span>
    <span class="k">end</span>
<span class="k">end</span>
<span class="k">function</span> <span class="n">y</span> <span class="o">=</span> <span class="n">feasibleSol</span><span class="p">(</span><span class="n">ValidState</span><span class="p">)</span>
    <span class="c1">%1행 - 선교사 2행 - 식인종</span>
    <span class="n">Missionary</span> <span class="o">=</span> <span class="n">ValidState</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:);</span>
    <span class="n">Cannibal</span> <span class="o">=</span> <span class="n">ValidState</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">:);</span>
    
    <span class="n">CheckSum</span> <span class="o">=</span> <span class="n">Cannibal</span> <span class="o">&gt;</span> <span class="n">Missionary</span><span class="p">;</span>
    <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">CheckSum</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">if</span> <span class="n">Missionaray</span><span class="p">(</span><span class="n">CheckSum</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="n">y</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">y</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="k">end</span>
    <span class="k">end</span>
<span class="k">end</span>

</pre></td></tr></tbody></table></code></pre></div></div>

:ET